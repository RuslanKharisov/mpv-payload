import type { RequiredDataFromCollectionSlug } from 'payload'
import type { Media } from '@/payload-types'
import {
  createRichText,
  createHeading,
  createParagraph,
  createList,
  createText,
  createLink,
} from '../helpers/helpers'

// Определяем тип аргументов для этой страницы
export type AgreementArgs = {
  heroImage: Media
}

export const userAgreement: (args: AgreementArgs) => RequiredDataFromCollectionSlug<'pages'> = ({
  heroImage,
}) => {
  return {
    // --- Основные поля ---
    slug: 'user-agreement',
    title: 'Пользовательское соглашение',
    _status: 'published',
    publishedAt: new Date('2025-03-01').toISOString(),

    // --- Hero ---
    hero: {
      type: 'highImpact',
      links: [],
      media: heroImage.id,
      richText: createRichText([createHeading('h1', 'Пользовательское соглашение')]),
    },

    // --- Основной контент страницы ---
    layout: [
      {
        blockType: 'content',
        blockName: 'User Agreement Content',
        columns: [
          {
            size: 'full',
            enableLink: false,
            richText: createRichText([
              // --- Вводная часть ---
              createParagraph(
                'Индивидуальный предприниматель Харисов Руслан Ринатович, именуемый в дальнейшем «Prom-Stock», с одной стороны, и',
              ),
              createParagraph(
                'Любое физическое или юридическое лицо, именуемое в дальнейшем «Пользователь»,',
              ),
              createParagraph(
                'при совместном упоминании именуемые «Стороны», а по отдельности — «Сторона»,',
              ),
              createParagraph('заключили настоящее Пользовательское соглашение о нижеследующем:'),

              createHeading('h3', 'Термины и определения'),
              createParagraph(
                'Термины и определения, применяемые в настоящем Пользовательском соглашении, имеют значение, указанное в Правилах Prom-Stock.',
              ),

              // --- Раздел 1 ---
              createHeading('h2', '1. Предмет соглашения'),
              createHeading('h3', '1.1. Общие положения'),
              createParagraph(
                'Prom-Stock предоставляет Пользователю доступ к Сайту и Сервису для получения платных и бесплатных услуг, указанных на Сайте.',
              ),
              createHeading('h3', '1.2. Порядок акцепта'),
              createList([
                'Соглашение является офертой в соответствии со ст. 435 ГК РФ',
                'Акцепт совершается при регистрации на Сайте',
                'Дата заключения фиксируется автоматически',
              ]),
              createHeading('h3', '1.3. Сопутствующие документы'),
              createParagraph('При заключении Соглашения Пользователь принимает:'),
              createList(['Правила использования Сайта', 'Политику конфиденциальности']),
              createHeading('h3', '1.4. Уведомления'),
              createParagraph(
                'Prom-Stock направляет сообщения на контакты, указанные при регистрации. Настройки рассылки можно изменить в Личном кабинете.',
              ),
              createHeading('h3', '1.5. Особенности для физлиц'),
              createParagraph('Для физических лиц:'),
              createList([
                'Все услуги предоставляются бесплатно',
                'Функционал может быть ограничен по сравнению с юрлицами',
              ]),

              // --- Раздел 2 ---
              createHeading('h2', '2. Лицензионные условия'),
              createHeading('h3', '2.1. Права Prom-Stock'),
              createParagraph('Пользователь предоставляет Prom-Stock неисключительные права на:'),
              createList([
                'Использование контента',
                'Территориально неограниченное применение',
                'Бессрочное действие',
              ]),
              createHeading('h3', '2.2. Права Пользователя'),
              createParagraph(
                'Prom-Stock предоставляет Пользователю право использования Сайта исключительно для получения услуг.',
              ),
              createHeading('h3', '2.3. Ответственность'),
              createParagraph('Пользователь несет полную ответственность за:'),
              createList([
                'Нарушения прав третьих лиц',
                'Причинение убытков',
                'Неправомерное использование контента',
              ]),

              // --- Раздел 3 ---
              createHeading('h2', '3. Условия оказания услуг'),
              createHeading('h3', '3.1. Виды услуг'),
              createList([
                'Возмездные и безвозмездные',
                'Для физлиц — только бесплатные',
                'Для юрлиц — платные и бесплатные',
              ]),
              createHeading('h3', '3.2. Порядок подключения для юрлиц'),
              createParagraph('Необходимо предоставить:'),
              createList(['Реквизиты организации', 'Заполненную анкету', 'Контактные данные']),
              createHeading('h3', '3.3. Оплата услуг'),
              createParagraph('Способы оплаты:'),
              createList(['Через платежную систему на Сайте', 'По выставленному счету']),
              createHeading('h3', '3.4. Приемка услуг'),
              createList([
                'Акт не требуется',
                'Возражения принимаются в течение 3 рабочих дней',
                'Молчание считается согласием',
              ]),

              // --- Раздел 4 ---
              createHeading('h2', '4. Ответственность и безопасность'),
              createParagraph('Регулируется:'),
              createList(['Законодательством РФ', 'Правилами Prom-Stock']),

              // --- Раздел 5 ---
              createHeading('h2', '5. Изменение условий'),
              createHeading('h3', '5.1. Порядок изменений'),
              createList([
                'Уведомление за 15 дней',
                'Публикация новой редакции',
                'Молчание = согласие',
              ]),
              createHeading('h3', '5.2. Права Prom-Stock'),
              createParagraph('Вправе приостановить услуги при:'),
              createList([
                'Нарушениях со стороны Пользователя',
                'Отзыве согласия на обработку данных',
              ]),
              createHeading('h3', '5.3. Технические работы'),
              createParagraph(
                'Prom-Stock оставляет за собой право на профилактические работы с предварительным уведомлением.',
              ),

              // --- Раздел 6 ---
              createHeading('h2', '6. Персональные данные'),
              createHeading('h3', '6.1. Согласие на обработку'),
              createParagraph('Регистрация означает согласие на:'),
              createList(['Сбор и хранение данных', 'Передачу третьим лицам (при необходимости)']),
              createHeading('h3', '6.2. Гарантии'),
              createParagraph(
                'Prom-Stock принимает меры для защиты данных, но не несет ответственность за действия третьих лиц.',
              ),

              // --- Раздел 7 ---
              createHeading('h2', '7. Заключительные положения'),
              createHeading('h3', '7.1. Порядок разрешения споров'),
              createList([
                'Переговоры',
                'Претензионный порядок (30 дней)',
                'Судебное разбирательство',
              ]),
              createHeading('h3', '7.2. Юридическая сила документов'),
              createParagraph('Официальные контакты для переписки:'),
              createList([
                'Prom-Stock: client@prom-stock.ru',
                'Пользователь: email, указанный при регистрации',
              ]),
              createHeading('h3', 'Реквизиты Prom-Stock:'),
              createParagraph('ИП Харисов Руслан Ринатович'),
              createParagraph('ИНН 165106593664 | ОГРН 322169000051871'),
              createParagraph('р/с 40802810500003111884 в АО "ТИНЬКОФФ БАНК"'),
              createParagraph('БИК 044525974 | к/с 30101810145250000974'),

              createParagraph('Актуальная версия документа'),
            ]),
          },
        ],
      },
    ],

    // --- SEO ---
    meta: {
      title: 'Пользовательское соглашение | Prom-Stock',
      description:
        'Официальное пользовательское соглашение сервиса Prom-Stock. Условия предоставления услуг и лицензионные права.',
    },
  }
}
